<%@ Page Title="" MasterPageFile="~/MasterPage.master"  CodeFile="Default.aspx.cs" Inherits="Default" MaintainScrollPositionOnPostback="true" %>
<%@ Register Src="~/controls/pager.ascx" TagPrefix="ctrl" TagName="datapager" %>

<asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server">
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" />
    <link href="/swiper/tabs/swiper.css" rel="stylesheet" />
    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
    
    
    <!-- Keep CSS on page for Swiper Custom CSS -->
    <style type="text/css">
         .swiper-wrapper[style], .swiper-slide[style]
         {
             height:auto !important;
         }
         
         .swiper-container
         {
        
         }

        .tabs
        {
            width:355px;
            position:relative;
            top:-61px;
            z-index:3000;
        }
        .tabs a
        {
            font-family: 'futura medium condensed', Arial, Sans-Serif;
            font-size: 26px;
            color:#fdfdfd;
            text-align:center;
            border:2px solid #414141;
            background:#171717;
            text-decoration:none;
            padding:8px 15px;
            }
            
        .tabs img
        {  
            display:none;
        }
           
        .tabs a.active img
        {  
            display:inline;
            border:none;
        }   
        
        .tabs a.active
        {
            background: #891123;
        }
        
        .tab_arrow1
        {
            position:absolute; 
            top:39px; 
            left:90px;
        }
        
        .tab_arrow2
        {
            position:absolute; 
            top:39px; 
            left:260px;
        }
        
        .state_dropdown
        {
            display:none;
        }
        
        @media all and (max-width:390px) 
	    {
		    .tabs 
		    {
		        width:290px;
		        top:-50px;
		    }
		    
		    .tabs a
            {
                font-size: 18px;
            }
		    
		    #article_tab
		    {
		        margin: 0 3px;
		    }
		    
		    .tab_arrow1
            {
                top:29px; 
                left:70px;
            }
            
            .tab_arrow2
            {
                top:29px; 
                left:185px;
            }
	    }
	    
	    #map
	    {
	        width:700px; 
	        height:400px; 
	        padding-bottom:40px;
	    }
             
        .rep-lnk { font-weight: bold; color: #cc0000 !important } 
        .listings p {padding-bottom:0px;}
        
        @media all and (max-width:1000px) 
	    {
            .state_dropdown
            {
                display:inline;
                margin: 0 auto;
                width:100%;
            }
	    }
        
        
        @media all and (max-width:860px) 
	    {
	        .threecolumn
	        {
	            width:50%;
	        }
	        
	        #map
	        {
	            width:500px; 
	            height:400px; 
	        }
	    }
	    
	    @media all and (max-width:550px) 
	    {
	        .threecolumn
	        {
	            width:95%;
	        }
	        
	        #map
	        {
	            width:400px; 
	            height:400px; 
	        }
	    }
	    
	    @media all and (max-width:460px) 
	    {
	        #map
	        {
	            width:280px; 
	            height:280px; 
	        }
	        
	        .video_heading1 h2
	        {
	            font-size:25px;
	        }
	    }
        </style> 
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="body" Runat="Server">

<div id="services_header">
     <div class="row" style="overflow:auto;">
        <div class="row_padding">
           <br />
		   <h1 style="padding-bottom:5px;">Sales/Service</h1>
		   <br />
           <h3 style="text-align:center; padding-bottom:15px;">locate a sales representative or dealer</h3>
           <div class="twocolumn">
                <div id="services_header_space" style="cursor:pointer;"><img src="/images/foodservice.png" id="foodservice_img" alt="Foodservice" /></div>
           </div>
           <div class="twocolumn">
                <div id="services_header_space2" style="cursor:pointer;"><img src="/images/grocery.png" id="grocery_img" alt="Grocery" /></div>
           </div>
        </div>
    </div>
</div>

<div id="foodservice_content" style="background-color:#404040;">
    <br />
    <!-- tabs  -->
    <div class="row">
        <div class="row_padding">
            <div class="tabs"> 
                <a href="#" class="active">sales representatives<img src="/images/current_tab_arrow.png" class="tab_arrow1" /></a>
                <a href="#">vulcan dealers<img src="/images/current_tab_arrow.png" class="tab_arrow2" /></a>
            </div>
        </div>
    </div>
    <!-- end tabs  -->

    <div class="swiper-container" id="swipe-box">
        <div class="swiper-wrapper">
            <!-- sales  -->
            <div class="swiper-slide">
                <div class="content-slide" style="overflow:auto;">
                    <div class="row" style="overflow:auto;">
                    <div class="row_padding">
                        <h3>Locate a Vulcan sales representative</h3>
                        <br />
                        <p>If you are located outside of the United States, please fill out our <a href="/Contact-Us/">contact us</a> form to locate a Vulcan Sales Representative.<br /><br /></p>
                        
                        <div class="state_dropdown" id="contact_us" style="padding-bottom:20px; text-align:center;">
                            <div class="row_padding"  style="padding-bottom:20px; overflow:auto;">
                            <select onchange="changeState()" id="ddlStates">
                                <option value="">Select a State</option>
	                            <option value="AL">Alabama</option>
	                            <option value="AK">Alaska</option>
	                            <option value="AZ">Arizona</option>
	                            <option value="AR">Arkansas</option>
	                            <option value="CA">California</option>
	                            <option value="CO">Colorado</option>
	                            <option value="CT">Connecticut</option>
	                            <option value="DE">Delaware</option>
	                            <option value="DC">District Of Columbia</option>
	                            <option value="FL">Florida</option>
	                            <option value="GA">Georgia</option>
	                            <option value="HI">Hawaii</option>
	                            <option value="ID">Idaho</option>
	                            <option value="IL">Illinois</option>
	                            <option value="IN">Indiana</option>
	                            <option value="IA">Iowa</option>
	                            <option value="KS">Kansas</option>
	                            <option value="KY">Kentucky</option>
	                            <option value="LA">Louisiana</option>
	                            <option value="ME">Maine</option>
	                            <option value="MD">Maryland</option>
	                            <option value="MA">Massachusetts</option>
	                            <option value="MI">Michigan</option>
	                            <option value="MN">Minnesota</option>
	                            <option value="MS">Mississippi</option>
	                            <option value="MO">Missouri</option>
	                            <option value="MT">Montana</option>
	                            <option value="NE">Nebraska</option>
	                            <option value="NV">Nevada</option>
	                            <option value="NH">New Hampshire</option>
	                            <option value="NJ">New Jersey</option>
	                            <option value="NM">New Mexico</option>
	                            <option value="NY">New York</option>
	                            <option value="NC">North Carolina</option>
	                            <option value="ND">North Dakota</option>
	                            <option value="OH">Ohio</option>
	                            <option value="OK">Oklahoma</option>
	                            <option value="OR">Oregon</option>
	                            <option value="PA">Pennsylvania</option>
	                            <option value="RI">Rhode Island</option>
	                            <option value="SC">South Carolina</option>
	                            <option value="SD">South Dakota</option>
	                            <option value="TN">Tennessee</option>
	                            <option value="TX">Texas</option>
	                            <option value="UT">Utah</option>
	                            <option value="VT">Vermont</option>
	                            <option value="VA">Virginia</option>
	                            <option value="WA">Washington</option>
	                            <option value="WV">West Virginia</option>
	                            <option value="WI">Wisconsin</option>
	                            <option value="WY">Wyoming</option>
                            </select>
                            </div>
                        </div>
                        
                        <div id="map" style="margin:0 auto;"></div>
                        
                        <asp:ScriptManager ID="ScriptManager1" runat="server"></asp:ScriptManager>
                        <asp:UpdatePanel ID="UpdatePanel1" runat="server">
                        <ContentTemplate>
                            
                             <div id="clicked-state">
                                <div id="RepsContent" runat="server"> 
                                    <!-- This contains the hidden content for state map -->
                                    <div id="state_map" style='width:100%; max-width:1055px; margin: 0 auto; height:100%; min-height:400px;'>
                                        <div class="video_padding" id='state_map_content' style="min-height:330px;">
                                            <div class="video_heading1">
                                                <div style="position:relative; float:right;"><a href="javascript:hideMap('#clicked-state');"><img src="/images/close.jpg" border="0" /></a></div>
                                                <div style="position:relative; float:left;"><asp:Literal runat="server" ID="state_title"></asp:Literal></div>
                                            </div>
                                            <br /><br />
                                            <div style="height:auto; overflow:auto;">
                                                <% if (Reps != null)
                                                   {
                                                       int localidx = 0;
                                                %>       
                                                    <% foreach( Sales_Rep d in Reps){ %>   
                                                        <div class="threecolumn" style="padding-bottom:25px;">                                   
                                                            <table class="listings" cellpadding="0" cellspacing="0">
                                                                <tr>                
                                                                    <td valign="top">
                                                                        <p><b><%= d.Name%></b></p>
                                                                        <p><%=d.Address%></p>
                                                                        <p><%=d.City%>, <%= d.State%> <%= d.Zip%></p>
                                                                        <p><%=d.Phone%></p>

                                                                        
                                                                        <% if (!string.IsNullOrEmpty(d.Territory)) { %>
                                                                            <p><%=d.Territory%></p>                                        
                                                                        <% } %>
                                                                        
                                                                        
                                                                        <% if (!string.IsNullOrEmpty(d.Website)) { %>
                                                                            <p><a target="_blank" href="<%= "http://" + d.Website %>"><%= d.Website.ToString().Replace("https://", "").Replace("http://", "").Replace("www.", "") %></a></p>
                                                                        <% } %>

                                                                        <p><a href='javascript:MapWindow("<%= Server.UrlEncode(d.Address + " " + d.City + " , " + d.State + " " + d.Zip) %>")'>get directions</a></p>
                                                                    </td> 
                                                            </table>
                                                        </div>
                                                    <% } %>
                                                    <div style="display:none"><p><ctrl:datapager runat="server" ID="dp"></ctrl:datapager></p></div>
                                                    
                                                    <%  } %>
                                            </div>
                                        </div>
                                    </div>                             
                                </div>
                                <br /><br />
                             </div>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="stateValue" EventName="TextChanged" />
                        </Triggers>
                        </asp:UpdatePanel> 
                    </div>
                    </div>
                
                    <div style="display:none">
                      <asp:TextBox ID="stateValue" name="stateValue" runat="server" Text="" AutoPostBack="true"></asp:TextBox> 
                    </div>
                </div>
            </div>
            <!-- dealers  -->
            <div class="swiper-slide">
                <div class="content-slide" style="overflow:auto;">
                    <div class="row">
                        <div class="row_padding">
                           <h3 style="text-align:left; margin-bottom:5px;">locate a Vulcan dealer</h3>
                           <br />
                           <p>Our products are represented by a nationwide network of Manufacturer Representatives that are trained professionals ranging in knowledge of foodservice operations, 
                              food safety, equipment specifications and cooking equipment recommendations based on menu offering and volume.
                                <br /><br />
                                If you are located outside of the United States, please <a href="/contact-us/">contact us</a> to locate a Vulcan Dealer.</p>
                        </div>
                    </div>
                    <br style="clear:both;" />
                    <iframe src="dealerData/default.aspx?brand=vulcan" allowTransparency="true" id="dealers" name="dealers" width="100%" height="100%" frameborder="0" scrolling="no"></iframe>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="grocery_content" style="background-color:#404040;">
    <br style="clear:both;" />
     <div class="row">
        <div class="row_padding">
            <br />
           <h3 style="text-align:left; margin-bottom:5px;">locate Vulcan grocery and convenience stores</h3>
           <br />
        </div>
    </div>
    <br style="clear:both;" />
    <iframe src="GroceryData/default.aspx?brand=vulcan" allowTransparency="true" id="grocery" name="grocery" width="100%" height="100%" frameborder="0" scrolling="no"></iframe>
</div>


<div class="dark_body_wrapper">
<div class="dark_body_wrapper2">
        <br />
        <div class="row" style="overflow:auto;">
            <div class="row_padding">
                <br />
                <h3>locate a Vulcan service / parts center</h3>
                <br />
                <p>Our products are supported throughout North America and abroad by two outstanding service networks&ndash;the world-class 
                Hobart Service network or a Certified Independent Service network.<br /><br />
                <a href="https://vulcanregistration.itwfeg.com/FilterRegistration/" target="_blank">Register</a> your steamer and filter.</p>
            </div>
        </div>
      
        <iframe src="servicedata/default.aspx?brand=vulcan" id="service" name="service" width="100%" height="100%" frameborder="0" scrolling="no" allowTransparency="true"></iframe>
        <br /><br />
    </div>
</div>
</asp:Content>

<asp:Content ID="page_script" ContentPlaceHolderID="pageScripts" Runat="Server">
    <script src="/js/raphael.js" type="text/javascript"></script>
    <script src="/js/color.jquery.js" type="text/javascript"></script>
    <script src="/js/jquery.usmap.js" type="text/javascript"></script>
    <script type="text/javascript" src="/swiper/tabs/swiper.js"></script>
    	<script type="text/javascript" language="javascript">
    	    $(document).ready(function() {
    	        $('#foodservice_content').hide();
    	        $('#grocery_content').hide();
    	        var initMap = true;

    	        $('#services_header_space').click(function() {
    	            $("#foodservice_img").attr("src", "/images/foodservice_on.png");
    	            $("#grocery_img").attr("src", "/images/grocery.png");
    	            $('#foodservice_content').show();
    	            $('#grocery_content').hide();

    	            if (initMap) {
    	                $('#map').usmap({
    	                    stateHoverStyles: { fill: '#891123' },
    	                    // The click action
    	                    click: function(event, data) {
    	                        //$('#clicked-state').text('You clicked: ' + data.name)
    	                        //.parent().effect('highlight', { color: '#C7F464' }, 2000);

    	                        document.getElementById('<%= stateValue.ClientID %>').value = data.name;
    	                        __doPostBack('<%= UpdatePanel1.ClientID %>', '');
    	                        $('#map').hide();
    	                    }
    	                });

    	                initMap = false;
    	            }
    	        });

    	        $('#services_header_space2').click(function() {
    	            $("#foodservice_img").attr("src", "/images/foodservice.png");
    	            $("#grocery_img").attr("src", "/images/grocery_on.png");
    	            $('#foodservice_content').hide();
    	            $('#grocery_content').show();
    	        });
    	    });

    	    function changeState() {
    	        var e = document.getElementById("ddlStates");
    	        document.getElementById('<%= stateValue.ClientID %>').value = e.options[e.selectedIndex].value;
    	        __doPostBack('<%= UpdatePanel1.ClientID %>', '');
    	        $('#map').hide();
    	    }
    	    
        // Resize iframe to full height
        function resizeIframe(frame, h) {
            if (frame == "dealer") {
                var height = h + 300;
                $('.swiper-container, .swiper-slide').height(height);

                $('html,body').animate({
                    scrollTop: $("#dealers").offset().top
                },
                '0');
            }
            else if (frame == "service") {
                $('html,body').animate({
                    scrollTop: $("#service").offset().top
                },
                '0');
            }
            else if (frame == "grocery") {
                $('html,body').animate({
                    scrollTop: $("#grocery").offset().top
                },
                '0');
            }
        }  

        function MapWindow(params) {
            window.open('http://maps.google.com/maps?daddr=' + params + '&hl=en', 'mywindow', 'width=800,height=500')
        }

        function hideMap(map_div) {
            $(map_div).hide();
            $('#map').show();
        }
        
        //Tabs
        var tabsSwiper = new Swiper('.swiper-container', {
            speed: 500,
            initialSlide: 0,
            releaseFormElements: true,
            keyboardControl: false,
            onlyExternal: true,
            onSlideChangeStart: function() {
                $(".tabs .active").removeClass('active')
                $(".tabs a").eq(tabsSwiper.activeIndex).addClass('active')

                var height = $(".swiper-slide-active .content-slide").height();
                $('.swiper-container, .swiper-slide').height(height);
            }
        })

        $(".tabs a").on('touchstart mousedown', function(e) {
            e.preventDefault()
            $(".tabs .active").removeClass('active')
            $(this).addClass('active')
            tabsSwiper.swipeTo($(this).index())
        })
        $(".tabs a").click(function(e) {
            e.preventDefault()
        }) 
    </script>
    
    <!-- Corresponding code in the "parent" page -->
    <script src="/js/jquery.responsiveiframe.js" type="text/javascript"></script>
    <script type="text/javascript">
        ; (function($) {
            $(function() {
                $('#grocery').responsiveIframe({ xdomain: '*' });
                $('#service').responsiveIframe({ xdomain: '*' });
                $('#dealers').responsiveIframe({ xdomain: '*' });
            });
        })(jQuery);
    </script>
</asp:Content>

